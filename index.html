<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Website</title>
        <style>

            div.gameIcon{
                border-radius:25px;
                width:33%;
                height:90%;
                background-color: rgb(40,40,40);
                display: inline-block;
            }

            div.selectionBar{
                width:100%;
                background-color:rgb(32,32,32);
                overflow: scroll;
                white-space: nowrap;
            }

            iframe.gameDisplay{
                width:100%;
            }      
        </style>
    </head>
    <body style="background-color: black;">
        <div class="selectionBar"style="height:20vh;">
            <div class="gameIcon"onclick="changeGame(0)"></div>
            <div class="gameIcon"onclick="changeGame(1)"></div>
            <div class="gameIcon"onclick="changeGame(2)"></div>
            <div class="gameIcon"></div>
            <div class="gameIcon"></div>
            <div class="gameIcon"></div>
        </div>
        <iframe seamless="seamless"allowtransparency="true"allowfullscreen="true"class="gameDisplay"style="height:80vh;"></iframe>
        <script>
            const frame = document.body.querySelector("iframe")
            const selectionBar = document.body.querySelector("div")
            const games = []

            function toggleDropdown(){
                if(selectionBar.style.height=="20vh"){
                    selectionBar.style.height = "0vh"
                    frame.style.height = "100vh"
                } else{
                    selectionBar.style.height = "20vh"
                    frame.style.height = "80vh"
                }
            }

            function changeGame(game){
                frame.src = "about:blank"
                frame.removeAttribute("src")
                frame.removeAttribute("srcdoc")
                if(game==0){
                    frame.srcdoc = games[0]
                }
                if(game==1){
                    frame.src = "https://zv1y2i8p.play.gamezop.com/g/Umfd7yvMd"
                }
                if(game==2){
                    frame.srcdoc = games[1]
                }
            }

            function xhr(file,storage){
                const xhr = new XMLHttpRequest()
                xhr.open("GET",file)
                xhr.onload = function(){
                console.log(xhr)
                    games[storage] = xhr.response
                }
                xhr.send()
            }
            xhr("parkour.html",0)
            xhr("hangman.html",1)
            
            function cloak(){
                const cloakedWindow = window.open()
                cloakedWindow.document.head = document.head
                cloakedWindow.document.body = document.body
            }
        </script>
    </body>
    </html>
